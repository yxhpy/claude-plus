---
description: 优化现有 UI 代码的性能和用户体验
---

# UI 优化器

使用 Gemini AI 分析并优化现有的 UI 代码。

## 参数
- `target`: 要优化的文件路径或目录
- `focus`: 优化重点（可选）：performance, bundle-size, accessibility, ux

## 执行步骤

1. **读取目标代码**
   - 使用 Read 工具读取指定的文件
   - 或使用 Glob 工具扫描目录中的前端文件
   - 识别前端技术栈

2. **使用 Gemini CLI 进行优化分析**

   构建优化提示词并调用 gemini CLI：

   ```bash
   gemini -p "作为资深前端性能优化专家，分析以下代码并提供优化建议：

   [代码内容]

   技术栈: [识别的框架和库]
   优化重点: [focus]

   请从以下角度分析：
   - 性能优化: 懒加载、代码分割、缓存策略、渲染优化
   - 包体积优化: Tree-shaking、动态导入、依赖优化
   - 用户体验: 加载状态、错误处理、过渡动画
   - 可访问性: ARIA 改进、键盘导航、焦点管理

   对每个问题提供：
   1. 问题描述和影响
   2. 优化前后的代码对比
   3. 预期收益（性能提升、体积减少等）
   4. 实施优先级（高/中/低）"
   ```

3. **一次性输出优化报告和代码**
   - 显示完整的优化分析
   - 提供优化后的代码
   - 询问用户是否应用更改
   - 如果用户同意，使用 Edit 工具应用优化

## 示例

```bash
# 优化整个组件目录
/gemini-designer:optimize src/components

# 优化特定文件的性能
/gemini-designer:optimize src/pages/Dashboard.tsx focus=performance

# 优化包体积
/gemini-designer:optimize src focus=bundle-size

# 全面优化单个组件
/gemini-designer:optimize src/components/DataTable.tsx
```

## 输出格式

```
⚡ UI 优化分析报告
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 分析目标: [文件路径]
🎯 优化重点: [focus 或 "全面优化"]

📊 当前状态:
- 文件大小: [大小]
- 组件数量: [数量]
- 依赖项: [列表]

🔍 发现的问题:

1. [问题类别] - 优先级: [高/中/低]
   问题: [具体描述]
   影响: [性能/体验影响]
   解决方案: [优化方案]

   优化前:
   ```[语言]
   [原代码]
   ```

   优化后:
   ```[语言]
   [优化代码]
   ```

   预期收益: [具体收益]

2. ...

📈 优化总结:
- 预计性能提升: [百分比]
- 预计包体积减少: [大小]
- 用户体验改进: [描述]

💡 实施建议:
1. [优先实施项]
2. [次要实施项]
3. [长期优化项]

❓ 是否应用这些优化？
```
